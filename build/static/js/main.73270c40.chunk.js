(this["webpackJsonpsm-broker-app"]=this["webpackJsonpsm-broker-app"]||[]).push([[0],{201:function(e,t,a){},206:function(e,t,a){e.exports=a(463)},446:function(e,t,a){},451:function(e,t,a){},457:function(e,t,a){},460:function(e,t,a){},461:function(e,t,a){},462:function(e,t,a){},463:function(e,t,a){"use strict";a.r(t);a(207),a(154),a(257);var n=a(0),l=a.n(n),r=a(203),s=a.n(r),c=a(62),o=a(22),i=a(205);a(446);function m(){var e=Object(o.f)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],s=a[1],c=/^[0-9\b]+$/;return l.a.createElement("div",{className:"Login"},l.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),c.test(r))return e.replace("/BrokerWelcome",r);alert("Username should not contain letters, please re-enter")}},l.a.createElement("h1",null,"Secured Messenging"),l.a.createElement("label",null,"Username:",l.a.createElement("input",{type:"text",name:"BrokerId",value:r,onChange:function(e){s(e.target.value)},required:!0,maxLength:"7",minLength:"7"})),l.a.createElement("button",null,"Log In")))}var u=a(97),g=a(98),p=a(102),d=a(101);a(451),a(201);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function f(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var E=l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("g",null,l.a.createElement("path",{d:"M487.083,225.514l-75.08-75.08V63.704c0-15.682-12.708-28.391-28.413-28.391c-15.669,0-28.377,12.709-28.377,28.391 v29.941L299.31,37.74c-27.639-27.624-75.694-27.575-103.27,0.05L8.312,225.514c-11.082,11.104-11.082,29.071,0,40.158 c11.087,11.101,29.089,11.101,40.172,0l187.71-187.729c6.115-6.083,16.893-6.083,22.976-0.018l187.742,187.747 c5.567,5.551,12.825,8.312,20.081,8.312c7.271,0,14.541-2.764,20.091-8.312C498.17,254.586,498.17,236.619,487.083,225.514z"}),l.a.createElement("path",{d:"M257.561,131.836c-5.454-5.451-14.285-5.451-19.723,0L72.712,296.913c-2.607,2.606-4.085,6.164-4.085,9.877v120.401 c0,28.253,22.908,51.16,51.16,51.16h81.754v-126.61h92.299v126.61h81.755c28.251,0,51.159-22.907,51.159-51.159V306.79 c0-3.713-1.465-7.271-4.085-9.877L257.561,131.836z"})))),b=l.a.createElement("g",null),v=l.a.createElement("g",null),y=l.a.createElement("g",null),S=l.a.createElement("g",null),j=l.a.createElement("g",null),C=l.a.createElement("g",null),O=l.a.createElement("g",null),N=l.a.createElement("g",null),w=l.a.createElement("g",null),k=l.a.createElement("g",null),M=l.a.createElement("g",null),x=l.a.createElement("g",null),F=l.a.createElement("g",null),I=l.a.createElement("g",null),L=l.a.createElement("g",null),D=function(e){var t=e.svgRef,a=e.title,n=f(e,["svgRef","title"]);return l.a.createElement("svg",h({id:"Capa_1",x:"0px",y:"0px",width:"495.398px",height:"495.398px",viewBox:"0 0 495.398 495.398",style:{enableBackground:"new 0 0 495.398 495.398"},xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,E,b,v,y,S,j,C,O,N,w,k,M,x,F,I,L)},B=l.a.forwardRef((function(e,t){return l.a.createElement(D,h({svgRef:t},e))})),R=(a.p,a(100)),H=a.n(R),z=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={data:[],isLoading:!1,brokerID:e.location.state},n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),this.setState({brokerID:this.props.location.state});var t=this.props.location.state;fetch("https://cors-anywhere.herokuapp.com/"+("http://securedmessaging.azurewebsites.net/api/broker/"+t)).then((function(e){return e.json()})).then((function(t){return e.setState({data:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isLoading;return n?l.a.createElement("div",{className:"pageLoading"},l.a.createElement("p",null,"Loading..."),l.a.createElement(H.a,{size:150,color:"#005EB8",loading:n})):0===a.length?l.a.createElement("p",null," no data found"):l.a.createElement("div",{className:"brokerWelcome"},l.a.createElement("div",{className:"brokerDetails"},l.a.createElement("p",{className:"brokerID"},l.a.createElement("strong",null,"Welcome ",a.brokerForename," ",a.brokerSurname)),l.a.createElement("p",{className:"appName"},l.a.createElement("strong",null,"Secured Messaging")),l.a.createElement("button",{className:"brokerSignOut"},l.a.createElement(c.b,{to:{pathname:"/LogIn"}},"Sign Out"))),l.a.createElement("div",{className:"brokerInfoBox"},l.a.createElement("p",null,l.a.createElement("strong",null,"Applications")," "),l.a.createElement("p",null,"Click on the roll number to send and view messages relating to the application")),l.a.createElement("div",{className:"brokerApps"},a.application.map((function(t,a){return l.a.createElement("ul",{className:"applicationBox",key:t.toString()+a},l.a.createElement("li",{className:"appLink"},l.a.createElement(B,{className:"applicationBoxHeaderIcon"}),l.a.createElement(c.b,{to:{pathname:"/ApplicationMessages",state:{rollNumber:t.rollNumber,brokerID:e.state.brokerID}}},"Roll number: ",t.rollNumber)),l.a.createElement("li",null," Customer name: ",t.customerFullName))}))))}}]),a}(l.a.Component),P=a(99);a(457);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var _=l.a.createElement("g",null,l.a.createElement("path",{d:"M413.974,71.026C368.171,25.225,307.274,0,242.5,0S116.829,25.225,71.026,71.026C25.225,116.829,0,177.726,0,242.5 s25.225,125.671,71.026,171.474C116.829,459.775,177.726,485,242.5,485s125.671-25.225,171.474-71.026 C459.775,368.171,485,307.274,485,242.5S459.775,116.829,413.974,71.026z M242.5,455C125.327,455,30,359.673,30,242.5 S125.327,30,242.5,30S455,125.327,455,242.5S359.673,455,242.5,455z"}),l.a.createElement("polygon",{points:"242.5,299.791 135.589,193.228 114.411,214.476 242.5,342.148 370.589,214.476 349.411,193.228  "})),Y=l.a.createElement("g",null),W=l.a.createElement("g",null),G=l.a.createElement("g",null),q=l.a.createElement("g",null),J=l.a.createElement("g",null),V=l.a.createElement("g",null),U=l.a.createElement("g",null),Z=l.a.createElement("g",null),$=l.a.createElement("g",null),K=l.a.createElement("g",null),Q=l.a.createElement("g",null),X=l.a.createElement("g",null),ee=l.a.createElement("g",null),te=l.a.createElement("g",null),ae=l.a.createElement("g",null),ne=function(e){var t=e.svgRef,a=e.title,n=A(e,["svgRef","title"]);return l.a.createElement("svg",T({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 485 485",style:{enableBackground:"new 0 0 485 485"},xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,_,Y,W,G,q,J,V,U,Z,$,K,Q,X,ee,te,ae)},le=l.a.forwardRef((function(e,t){return l.a.createElement(ne,T({svgRef:t},e))}));a.p;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var ce=l.a.createElement("path",{d:"m275.565 551.13c-151.944 0-275.565-123.621-275.565-275.565s123.621-275.565 275.565-275.565 275.565 123.621 275.565 275.565-123.621 275.565-275.565 275.565zm0-516.684c-132.955 0-241.119 108.164-241.119 241.119s108.164 241.12 241.119 241.12 241.12-108.165 241.12-241.12-108.165-241.119-241.12-241.119z"}),oe=l.a.createElement("path",{d:"m275.565 223.897 120.56 120.56h51.668l-172.228-172.229-172.228 172.228h51.668z"}),ie=function(e){var t=e.svgRef,a=e.title,n=se(e,["svgRef","title"]);return l.a.createElement("svg",re({id:"Capa_1",enableBackground:"new 0 0 551.13 551.13",height:512,viewBox:"0 0 551.13 551.13",width:512,ref:t},n),a?l.a.createElement("title",null,a):null,ce,oe)},me=l.a.forwardRef((function(e,t){return l.a.createElement(ie,re({svgRef:t},e))}));a.p;function ue(){return(ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ge(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var pe=l.a.createElement("g",null),de=l.a.createElement("g",null),he=l.a.createElement("g",null),fe=l.a.createElement("g",null),Ee=l.a.createElement("g",null),be=l.a.createElement("g",null),ve=l.a.createElement("g",null),ye=l.a.createElement("g",null),Se=l.a.createElement("g",null),je=l.a.createElement("g",null),Ce=l.a.createElement("g",null),Oe=l.a.createElement("g",null),Ne=l.a.createElement("g",null),we=l.a.createElement("g",null),ke=l.a.createElement("g",null),Me=function(e){var t=e.svgRef,a=e.title,n=ge(e,["svgRef","title"]);return l.a.createElement("svg",ue({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 58 58",style:{enableBackground:"new 0 0 58 58"},xmlSpace:"preserve",ref:t},n),a?l.a.createElement("title",null,a):null,l.a.createElement("g",null,l.a.createElement("path",{style:{fill:"#0391FD"},d:"M25,9.586C11.193,9.586,0,19.621,0,32c0,4.562,1.524,8.803,4.135,12.343 C3.792,48.433,2.805,54.194,0,57c0,0,8.47-1.191,14.273-4.651c0.006-0.004,0.009-0.01,0.014-0.013 c1.794-1.106,3.809-2.397,4.302-2.783c0.301-0.417,0.879-0.543,1.328-0.271c0.298,0.181,0.487,0.512,0.488,0.86 c0.003,0.582-0.008,0.744-3.651,3.018c2.582,0.81,5.355,1.254,8.245,1.254c13.807,0,25-10.035,25-22.414S38.807,9.586,25,9.586z"}),l.a.createElement("path",{style:{fill:"#0F71D3"},d:"M58,23.414C58,11.035,46.807,1,33,1c-9.97,0-18.575,5.234-22.589,12.804 C14.518,11.153,19.553,9.586,25,9.586c13.807,0,25,10.035,25,22.414c0,4.735-1.642,9.124-4.437,12.743 C51.162,47.448,58,48.414,58,48.414c-2.805-2.805-3.792-8.566-4.135-12.657C56.476,32.217,58,27.976,58,23.414z"}),l.a.createElement("path",{style:{fill:"#FFFFFF"},d:"M32.5,26h-14c-0.552,0-1-0.447-1-1s0.448-1,1-1h14c0.552,0,1,0.447,1,1S33.052,26,32.5,26z"}),l.a.createElement("path",{style:{fill:"#FFFFFF"},d:"M38,33H13c-0.552,0-1-0.447-1-1s0.448-1,1-1h25c0.552,0,1,0.447,1,1S38.552,33,38,33z"}),l.a.createElement("path",{style:{fill:"#FFFFFF"},d:"M38,40H13c-0.552,0-1-0.447-1-1s0.448-1,1-1h25c0.552,0,1,0.447,1,1S38.552,40,38,40z"})),pe,de,he,fe,Ee,be,ve,ye,Se,je,Ce,Oe,Ne,we,ke)},xe=l.a.forwardRef((function(e,t){return l.a.createElement(Me,ue({svgRef:t},e))}));a.p;function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var Le=function(e){var t=e.svgRef,a=e.title,n=Ie(e,["svgRef","title"]);return l.a.createElement("svg",Fe({id:"master-artboard",viewBox:"0 0 92.33120727539062 166.12664794921875",x:"0px",y:"0px",style:{enableBackground:"new 0 0 336 235.2"},width:"92.33120727539062px",height:"166.12664794921875px",ref:t},n),a?l.a.createElement("title",null,a):null,l.a.createElement("rect",{id:"ee-background",x:0,y:0,width:92.33120727539062,height:166.12664794921875,style:{fill:"white",fillOpacity:0,pointerEvents:"none"}}),l.a.createElement("path",{d:"M 155.00860595703125 174.88699340820312 L 155.00860595703125 174.2469940185547 C 155.00860595703125 173.3336639404297 155.1486053466797 172.5836639404297 155.42860412597656 171.9969940185547 C 155.70860290527344 171.40365600585938 156.23193359375 170.78033447265625 156.9986114501953 170.1269989013672 C 158.05860900878906 169.22698974609375 158.72860717773438 168.55032348632812 159.00860595703125 168.0970001220703 C 159.2819366455078 167.64366149902344 159.41860961914062 167.0970001220703 159.41860961914062 166.45700073242188 C 159.41860961914062 165.66366577148438 159.16526794433594 165.05032348632812 158.65859985351562 164.6169891357422 C 158.14527893066406 164.18365478515625 157.40859985351562 163.9669952392578 156.4486083984375 163.9669952392578 C 155.82861328125 163.9669952392578 155.22528076171875 164.0369873046875 154.63861083984375 164.177001953125 C 154.05194091796875 164.3236541748047 153.38194274902344 164.5869903564453 152.62860107421875 164.9669952392578 L 151.93861389160156 163.38699340820312 C 153.4119415283203 162.61366271972656 154.9552764892578 162.22698974609375 156.568603515625 162.22698974609375 C 158.05526733398438 162.22698974609375 159.21527099609375 162.59365844726562 160.04861450195312 163.32699584960938 C 160.87527465820312 164.06033325195312 161.28860473632812 165.0970001220703 161.28860473632812 166.43699645996094 C 161.28860473632812 167.003662109375 161.21194458007812 167.503662109375 161.05860900878906 167.93699645996094 C 160.9052734375 168.37033081054688 160.68194580078125 168.78033447265625 160.38861083984375 169.1669921875 C 160.08860778808594 169.5536651611328 159.4452667236328 170.177001953125 158.45860290527344 171.0369873046875 C 157.67193603515625 171.7103271484375 157.15194702148438 172.27032470703125 156.8986053466797 172.7169952392578 C 156.64527893066406 173.16366577148438 156.5186004638672 173.75698852539062 156.5186004638672 174.4969940185547 L 156.5186004638672 174.88699340820312 L 155.00860595703125 174.88699340820312 M 154.42860412597656 178.3669891357422 C 154.42860412597656 177.30032348632812 154.8986053466797 176.76699829101562 155.83860778808594 176.76699829101562 C 156.2919464111328 176.76699829101562 156.64193725585938 176.90365600585938 156.88861083984375 177.177001953125 C 157.13526916503906 177.45033264160156 157.25860595703125 177.8470001220703 157.25860595703125 178.3669891357422 C 157.25860595703125 178.8669891357422 157.13194274902344 179.253662109375 156.87860107421875 179.52699279785156 C 156.63194274902344 179.80699157714844 156.2852783203125 179.94699096679688 155.83860778808594 179.94699096679688 C 155.43194580078125 179.94699096679688 155.09527587890625 179.8236541748047 154.82861328125 179.57699584960938 C 154.5619354248047 179.330322265625 154.42860412597656 178.927001953125 154.42860412597656 178.3669891357422 Z",transform:"matrix(9.092177391052246, 0, 0, 9.092177391052246, -1378.18505859375, -1474.362060546875)",style:{fill:"rgb(255, 255, 255)",whiteSpace:"pre",color:"rgb(51, 51, 51)",fillOpacity:1,stroke:"rgb(237, 237, 225)",strokeWidth:0,paintOrder:"stroke",strokeOpacity:0}}))},De=l.a.forwardRef((function(e,t){return l.a.createElement(Le,Fe({svgRef:t},e))})),Be=(a.p,a(76)),Re=a.n(Be),He=a(466),ze=a(467),Pe=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClick=function(e){n.state.selectedId!==e?n.setState({selectedId:e}):n.setState({selectedId:null})},n.handleChangeSubject=function(e){n.setState({formSelectedSubject:e.target.value},(function(){n.state.data.message_Subjects.map((function(e){e.subject===n.state.formSelectedSubject&&n.setState({formSelectedSubjectId:e.messageSubjectId},(function(){}))}))}))},n.handleBodyChange=function(e){n.setState({formMessageBody:e.target.value})},n.handleNewSubject=function(e){n.setState({formNewSubject:e.target.value})},n.onFormMessageChanged=function(e){n.setState({formLableSelected:e.target.value})},n.state={data:[],messageChainData:[],messageSubjectData:[],isLoading:!1,checkboxes:[],selectedId:[],formLableSelected:"new",formSelectedSubject:"",formSelectedSubjectId:"",formNewSubject:"",formChainID:"",formMessageBody:"",messageSent:!1,brokerID:e.location.state.brokerID},n.handleFormSubmit=n.handleFormSubmit.bind(Object(P.a)(n)),n}return Object(g.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0});var t="https://cors-anywhere.herokuapp.com/",a="http://securedmessaging.azurewebsites.net/api/ApplicationMessages/"+this.props.location.state.rollNumber;fetch(t+a).then((function(e){return e.json()})).then((function(t){return e.setState({data:t})})).then(fetch(t+"http://securedmessaging.azurewebsites.net/api/Message_Chain").then((function(e){return e.json()})).then((function(t){return e.setState({messageChainData:t},(function(){}))}))).then(fetch(t+"http://securedmessaging.azurewebsites.net/api/Message_Subject").then((function(e){return e.json()})).then((function(t){return e.setState({messageSubjectData:t,isLoading:!1})})))}},{key:"handleFormSubmit",value:function(e){var t=this;this.setState({isLoading:!0}),e.preventDefault();var a=this.state.messageChainData.length-1,n=this.state.messageChainData[a].messageChainId+1;this.setState({formChainID:n},(function(){}));var l=Re()().format("ddd DD MMM YYYY HH:mm:ss"),r=this.state.formSelectedSubjectId,s="https://cors-anywhere.herokuapp.com/";if("new"===this.state.formLableSelected){r=this.state.messageSubjectData.length+1;try{fetch(s+"http://securedmessaging.azurewebsites.net/api/Message_Subject",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageSubjectId:r,subject:this.state.formNewSubject,rollNumber:this.props.location.state.rollNumber,BrokerID:this.state.brokerID,dateTime:l})}).then((function(e){return t.setState({messageSent:!0},t.componentDidMount())})).then((function(e){return t.setState({messageSent:!0})}))}catch(c){}}try{fetch(s+"http://securedmessaging.azurewebsites.net/api/Message_Chain",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messageChainId:n,messageSubjectId:r,messageBody:this.state.formMessageBody,sentFromId:this.state.brokerID,dateTime:l})}).then((function(e){return t.setState({messageSent:!0,isLoading:!1},t.componentDidMount())})).then((function(e){return t.setState({messageSent:!0})}))}catch(c){}}},{key:"render",value:function(){var e=this,t=this.state,a=t.data,n=t.isLoading;return n?l.a.createElement("div",{className:"pageLoading"},l.a.createElement("p",null,"Loading..."),l.a.createElement(H.a,{size:150,color:"#005EB8",loading:n})):0===a.length?l.a.createElement("p",null," no data found"):l.a.createElement("div",null,l.a.createElement("div",{className:"detailsBanner"},l.a.createElement("div",{className:"rollNumber"}," ",l.a.createElement("strong",null,"Application roll number: ",this.props.location.state.rollNumber)),l.a.createElement("div",{className:"returnToApps"},l.a.createElement("button",{onClick:this.props.history.goBack},"Return to All Applications"))),!0===this.state.messageSent&&l.a.createElement("div",{className:"messageSent"},this.displaySentText()),l.a.createElement("div",{className:"sendMessageContent"},l.a.createElement("div",{className:"sentMessageText"},l.a.createElement(De,{className:"questionIcon"}),l.a.createElement("h1",null,"Need to ask us a question about this application?"),l.a.createElement("p",null,"Send us a direct message using the form on the right and we will get back to you as soon as possible."),l.a.createElement("p",null,"All message chats for this application can be found in the"," ",l.a.createElement("strong",null,'"Application Chat History"')," section on this page."),l.a.createElement("p",null,"We are open Monday to Friday 8am to 6pm and Saturday 9am to 4pm. We\u2019re closed Sundays and Bank Holidays.")),l.a.createElement(He.a,{className:"sendMessageForm",onSubmit:this.handleFormSubmit},l.a.createElement("div",null,l.a.createElement(xe,{className:"chatIcon"}),l.a.createElement("h1",{className:"formHeading"},"Start a new chat or reply to an existing chat")),l.a.createElement(He.a.Group,null,l.a.createElement(He.a.Label,null,"Roll Number",l.a.createElement(He.a.Control,{type:"text",placeholder:this.props.location.state.rollNumber,disabled:!0}))),l.a.createElement(He.a.Group,{className:"formRadio"},l.a.createElement(He.a.Check,{className:"formRadiob",type:"radio",label:"New chat",value:"new",name:"neworexisting",id:"New Message",onChange:this.onFormMessageChanged,defaultChecked:!0}),l.a.createElement(He.a.Check,{className:"formRadiob",type:"radio",label:"Reply to existing  chat",value:"reply",name:"neworexisting",id:"existing Message",onChange:this.onFormMessageChanged})),this.returnCorrectFormFields(a),l.a.createElement(He.a.Group,null,l.a.createElement(He.a.Label,null,"Message Body",l.a.createElement(He.a.Control,{as:"textarea",rows:3,value:this.state.value,onChange:this.handleBodyChange}))),l.a.createElement(ze.a,{variant:"primary",type:"submit"},"Send Message"))),l.a.createElement("div",{className:"appMessageMainContent"},l.a.createElement("div",{className:"messageHistoryText"},l.a.createElement("h3",null,"Application Chat History"),l.a.createElement("p",null,"Here you can find all sent and received message chats for this Application."),l.a.createElement("p",null,"If you have another question about any of the same topics found below, please use the above form and check the 'reply to existing chat' button to select the message subject you would like to respond too.")),l.a.createElement("div",{className:"messageSubjectHeader"},l.a.createElement("div",{className:"innerMS"},"Chat Subject"),l.a.createElement("div",{className:"innerMS"},"Number of messages in chat"),l.a.createElement("div",{className:"innerMS"},"Latest message Date and Time"),l.a.createElement("div",{className:"innerMS"},"View chat history")),a.message_Subjects.map((function(t,a){return l.a.createElement("div",{key:a+t.toString()},l.a.createElement("div",{className:"messageSubject"},l.a.createElement("div",{className:"innerMS"},t.subject),l.a.createElement("div",{className:"innerMS"},t.message_Chain.length),l.a.createElement("div",{className:"innerMS"},e.getLatestMessageDateTime(t.message_Chain)),l.a.createElement("div",{className:"innerMS"},l.a.createElement("button",{onClick:function(){return e.handleClick(t.messageSubjectId)}},e.state.selectedId===t.messageSubjectId?l.a.createElement(me,{className:"showHideIcons"}):l.a.createElement(le,{className:"showHideIcons"})))),e.state.selectedId===t.messageSubjectId&&l.a.createElement("div",{className:"messageHistory"},e.getAllMessageInChain(t.message_Chain)))}))))}},{key:"displaySentText",value:function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Your message has been sent!"))}},{key:"returnToApp",value:function(){this.props.history.goBack()}},{key:"returnCorrectFormFields",value:function(e){return"new"===this.state.formLableSelected?this.newMessageSubject(e):this.choseMessageSubject(e)}},{key:"choseMessageSubject",value:function(e){return l.a.createElement(He.a.Group,null,l.a.createElement(He.a.Label,null,"Select the message subject",l.a.createElement(He.a.Control,{as:"select",onChange:this.handleChangeSubject},l.a.createElement("option",{value:"0"},"Choose..."),e.message_Subjects.map((function(e,t){return l.a.createElement("option",{value:e.subject,key:e.toString()+t},e.subject)})))))}},{key:"newMessageSubject",value:function(e){return l.a.createElement(He.a.Group,null,l.a.createElement(He.a.Label,null,"Enter Message Subject"),l.a.createElement(He.a.Control,{type:"text",placeholder:"Enter message subject",value:this.state.value,onChange:this.handleNewSubject}))}},{key:"getAllMessageInChain",value:function(e){return l.a.createElement("div",{className:"messageHistory"},l.a.createElement("div",{className:"messageHistoryHeader"},l.a.createElement("div",{className:"innerMS-history-body"},"Message"),l.a.createElement("div",{className:"innerMS"},"Date and Time"),l.a.createElement("div",{className:"innerMS"},"Message sent by")),e.map((function(e,t){return l.a.createElement("div",{className:"messageHistoryBody",key:e.toString()+t},l.a.createElement("div",{className:"innerMS-history-body"},e.messageBody),l.a.createElement("div",{className:"innerMS"},Re()(e.dateTime).format("ddd DD MMM YYYY HH:mm")),l.a.createElement("div",{className:"innerMS"},e.sentFromId))})))}},{key:"getLatestMessageDateTime",value:function(e){var t=e.length-1;Re.a.locale("en");try{var a=e[t].dateTime;return Re()(a).format("ddd DD MMM YYYY HH:mm")}catch(n){return"Information not avalible"}}}]),a}(l.a.Component);function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Ae(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var _e=l.a.createElement("style",{type:"text/css"},"\r\n\t.st0{fill-rule:evenodd;clip-rule:evenodd;fill:#005EB8;}\r\n\t.st1{fill-rule:evenodd;clip-rule:evenodd;fill:#FFFFFF;}\r\n"),Ye=l.a.createElement("rect",{x:-.3,y:0,className:"st0",width:85.5,height:54.9}),We=l.a.createElement("title",null,"halifax_logo"),Ge=l.a.createElement("g",{id:"Page-1"},l.a.createElement("g",{id:"Halifax-logo"},l.a.createElement("g",{id:"Halifax"},l.a.createElement("polyline",{id:"Fill-1",className:"st1",points:"46.3,17.6 32.2,2.8 4.3,2.8 19.7,17.6 46.3,17.6  "}),l.a.createElement("polyline",{id:"Fill-3",className:"st1",points:"19.7,37.2 4.3,52.1 32.2,52.1 46.3,37.2 19.7,37.2  "}),l.a.createElement("polyline",{id:"Fill-11",className:"st1",points:"52.8,2.8 44.1,11.8 49.6,17.6 65.3,17.6 80.7,2.8 52.8,2.8  "}),l.a.createElement("polyline",{id:"Fill-13",className:"st1",points:"65.3,37.2 49.6,37.2 44.1,43 52.8,52.1 80.7,52.1 65.3,37.2  "}),l.a.createElement("polyline",{id:"Fill-5",className:"st1",points:"12.7,26.2 7.9,26.2 7.9,20.4 4.6,20.4 4.6,34.5 7.9,34.5 7.9,29.1 12.7,29.1  12.7,34.5 16,34.5 16,20.4 12.7,20.4 12.7,26.2  "}),l.a.createElement("path",{id:"Fill-9",className:"st1",d:"M22.1,29.1l1.5-4.7l1.5,4.7H22.1z M21.8,20.4l-4.7,14h3.4l0.8-2.5h4.7l0.8,2.5h3.4l-4.7-14H21.8 z"}),l.a.createElement("polyline",{id:"Fill-6",className:"st1",points:"34.5,20.4 31.2,20.4 31.2,34.5 39.5,34.5 39.5,31.5 34.5,31.5 34.5,20.4  "}),l.a.createElement("polygon",{id:"Fill-7",className:"st1",points:"41.1,34.5 44.4,34.5 44.4,20.4 41.1,20.4  "}),l.a.createElement("polyline",{id:"Fill-8",className:"st1",points:"49.5,23.4 55.7,23.4 55.7,20.4 46.3,20.4 46.3,34.5 49.5,34.5 49.5,29.1 54.7,29.1  54.7,26.2 49.5,26.2 49.5,23.4  "}),l.a.createElement("path",{id:"Fill-10",className:"st1",d:"M59.8,29.1l1.5-4.7l1.5,4.7H59.8z M80,20.4h-3.7l-2.6,4.2L71,20.4h-3.7l4.6,7l-4.2,6.5 l-4.6-13.5h-3.6l-4.7,14h3.4l0.8-2.5h4.7l0.8,2.5H71l2.7-4.2l2.6,4.2H80l-4.6-7L80,20.4L80,20.4z"})))),qe=function(e){var t=e.svgRef,a=e.title,n=Ae(e,["svgRef","title"]);return l.a.createElement("svg",Te({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 85 54.9",style:{enableBackground:"new 0 0 85 54.9"},xmlSpace:"preserve",ref:t},n),_e,Ye,void 0===a?We:a?l.a.createElement("title",null,a):null,Ge)},Je=l.a.forwardRef((function(e,t){return l.a.createElement(qe,Te({svgRef:t},e))}));a.p,a(460);function Ve(){return l.a.createElement("header",{className:"header"},l.a.createElement(Je,{className:"header-logo"}))}a(461);function Ue(){return l.a.createElement("footer",{className:"footer"})}function Ze(){return l.a.createElement(n.Fragment,null,l.a.createElement(Ve,null),l.a.createElement(c.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{path:"/ApplicationMessages",component:Pe}),l.a.createElement(o.a,{path:"/BrokerWelcome",component:z}),l.a.createElement(o.a,{path:"/login",component:m}),l.a.createElement(o.a,{path:"/",exact:!0,component:m}))),l.a.createElement(Ue,null))}a(462);s.a.render(l.a.createElement(Ze,null),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.73270c40.chunk.js.map